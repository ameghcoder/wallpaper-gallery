document.addEventListener("DOMContentLoaded",()=>{function e(e){return document.querySelector(e)}let t=document.querySelector(".img-share-btn"),l=document.querySelector(".share-box-inside > button");t&&t.addEventListener("click",()=>{document.querySelector(".share-box").classList.add("zoom-in"),document.querySelector(".share-box").classList.remove("zoom-out")}),l&&l.addEventListener("click",()=>{document.querySelector(".share-box").classList.add("zoom-out"),document.querySelector(".share-box").classList.remove("zoom-in")}),e("#preview-img")&&e("#preview-img").addEventListener("click",()=>{e("body").classList.add("disable-scrolling"),e(".model-img-url").hasAttribute("src")?(e(".model-img").style.display="block",e(".model-img").requestFullscreen?e(".model-img").requestFullscreen():e(".model-img").webkitRequestFullscreen?e(".model-img").webkitRequestFullscreen():e(".model-img").msRequestFullscreen&&e(".model-img").msRequestFullscreen()):(e(".model-img-url").setAttribute("src",e("#img-heading").getAttribute("value")),e(".model-img").style.display="block",e(".model-img").requestFullscreen?e(".model-img").requestFullscreen():e(".model-img").webkitRequestFullscreen?e(".model-img").webkitRequestFullscreen():e(".model-img").msRequestFullscreen&&e(".model-img").msRequestFullscreen())}),e(".close-model").addEventListener("click",()=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),document.querySelector(".model-img").style.display="none",document.querySelector("body").classList.remove("disable-scrolling")}),e(".copy-link")&&e(".copy-link").addEventListener("click",()=>{var t=document.createElement("input");e("body").append(t),t.value=document.querySelector("input.pageURL").value,t.select(),t.setSelectionRange(0,99999),navigator.clipboard.writeText(t.value),e(".copy-link").innerHTML="Copied &#10003;",setTimeout(()=>{e(".copy-link").innerHTML="Copy Link"},2e3),t.remove()});let r=(e,t)=>{let l="/api/update?id="+e+"&flag="+t;return new Promise((e,t)=>{var r=new XMLHttpRequest;r.onreadystatechange=function(){4==this.readyState&&(200==this.status?e(this.responseText):t(this.statusText))},r.open("GET",l,!0),r.send()})};if(document.getElementById("data-id-of-img")){let i=document.getElementById("data-id-of-img").dataset.id;setTimeout(()=>{r(i,"v").then(e=>{document.getElementById("number-of-view").innerText=e}).catch(e=>{console.error(e)})},3e3),document.getElementById("img-download-btn").addEventListener("click",()=>{r(i,"d").then(e=>{document.getElementById("number-of-downloads").innerText=e}).catch(e=>{console.error(e)})});let n=()=>{fetch(`/api/get_d?id=${i}`).then(e=>e.json()).then(e=>{document.getElementById("number-of-downloads").innerText=e.down,document.getElementById("number-of-view").innerText=e.view}).catch(e=>{console.error(e)})};n()}let s=(e,t,l)=>{let r="";return r=null==l?"/api/send?id="+e+"&type="+t:"/api/send?id="+e+"&type="+t+"&keywords="+l,new Promise((e,t)=>{var l=new XMLHttpRequest;l.onreadystatechange=function(){4==this.readyState&&(200==this.status?e(this.responseText):t(this.statusText))},l.open("GET",r,!0),l.send()})};function o(){let e=window.location.pathname,t=window.location.hostname;if("www.wallpaper-access.com"==t||"wallpaper-access.com"==t){if(""==(e=e.split("/"))[0]&&""==e[1])return e[1];if(""==e[0]&&("search"==e[1]||"w"==e[1]))return e[1];if(""==e[0]&&"category"==e[1])return e[1]}}let a=document.createElement("div");a.setAttribute("class","loader"),a.setAttribute("style","text-align : center;");let c=document.createElement("img");function d(){let e=document.querySelector("div.psric-btm");new IntersectionObserver((t,l)=>{t.forEach(t=>{if(!t.isIntersecting)return;let r=document.querySelectorAll(".img-anchor");r=r[r.length-1].getAttribute("data-id");let i=null,n=o();""==n?n="index":"search"==n?(i=decodeURI(window.location.search.split("wallpaper=")[1]).toLowerCase(),n="sr"):"w"==n?(i=decodeURI(window.location.pathname.split("/")[2]).toLowerCase(),n="sr"):"category"==n&&(n="category",i=decodeURI(window.location.pathname.split("/")[2]).toLowerCase());let c=document.querySelector(".img-section");c.append(a),s(r,n,i).then(e=>{setTimeout(()=>{if(!1==e)c.innerHTML+="No more wallpaper in this category.",document.querySelector(".loader").remove();else{let t=document.querySelector(".img-box");t.insertAdjacentHTML("beforeend",e),document.querySelector(".loader").remove(),d()}},2e3)}).catch(e=>{document.querySelector(".loader").remove(),c.innerHTML+=e}),l.unobserve(e)})}).observe(e)}c.setAttribute("src","/assets/loader.gif"),a.append(c),d()});