document.addEventListener("DOMContentLoaded",()=>{function e(e){return document.querySelector(e)}let t=document.querySelector(".img-share-btn"),r=document.querySelector(".share-box-inside > button");t&&t.addEventListener("click",()=>{document.querySelector(".share-box").classList.add("zoom-in"),document.querySelector(".share-box").classList.remove("zoom-out")}),r&&r.addEventListener("click",()=>{document.querySelector(".share-box").classList.add("zoom-out"),document.querySelector(".share-box").classList.remove("zoom-in")}),e("#preview-img")&&e("#preview-img").addEventListener("click",()=>{e("body").classList.add("disable-scrolling"),e(".model-img-url").hasAttribute("src")?(e(".model-img").style.display="block",e(".model-img").requestFullscreen?e(".model-img").requestFullscreen():e(".model-img").webkitRequestFullscreen?e(".model-img").webkitRequestFullscreen():e(".model-img").msRequestFullscreen&&e(".model-img").msRequestFullscreen()):(e(".model-img-url").setAttribute("src",e("#img-heading").getAttribute("value")),e(".model-img").style.display="block",e(".model-img").requestFullscreen?e(".model-img").requestFullscreen():e(".model-img").webkitRequestFullscreen?e(".model-img").webkitRequestFullscreen():e(".model-img").msRequestFullscreen&&e(".model-img").msRequestFullscreen())}),e(".close-model").addEventListener("click",()=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),document.querySelector(".model-img").style.display="none",document.querySelector("body").classList.remove("disable-scrolling")}),e(".copy-link")&&e(".copy-link").addEventListener("click",()=>{var t=document.createElement("input");e("body").append(t),t.value=document.querySelector("input.pageURL").value,t.select(),t.setSelectionRange(0,99999),navigator.clipboard.writeText(t.value),e(".copy-link").innerHTML="Copied &#10003;",setTimeout(()=>{e(".copy-link").innerHTML="Copy Link"},2e3),t.remove()});let i=(e,t)=>{let r="/api/update?id="+e+"&flag="+t;return new Promise((e,t)=>{var i=new XMLHttpRequest;i.onreadystatechange=function(){4==this.readyState&&(200==this.status?e(this.responseText):t(this.statusText))},i.open("GET",r,!0),i.send()})};if(document.getElementById("data-id-of-img")){let n=document.getElementById("data-id-of-img").dataset.id;setTimeout(()=>{i(n,"v").then(e=>{document.getElementById("number-of-view").innerText=e}).catch(e=>{console.error(e)})},3e3),document.getElementById("img-download-btn").addEventListener("click",()=>{i(n,"d").then(e=>{document.getElementById("number-of-downloads").innerText=e,console.log(e)}).catch(e=>{console.error(e)})});console.log("function is running"),fetch(`/api/get_d?id=${n}`).then(e=>e.json()).then(e=>{document.getElementById("number-of-downloads").innerText=e.down,document.getElementById("number-of-view").innerText=e.view}).catch(e=>{console.error(e)})}function l(){let e=window.location.pathname,t=window.location.hostname;if("localhost"==t||"wallpaper-access.com"==t){if(""==(e=e.split("/"))[0]&&""==e[1])return"index";if(""==e[0]&&"search"==e[1])return"sr";if(""==e[0]&&"w"==e[1])return"w";else if(""==e[0]&&"category"==e[1])return"category"}}function s(e){return"index"==e?null:"sr"==e?decodeURI(window.location.search.split("wallpaper=")[1]).toLowerCase():"w"==e?decodeURI(window.location.pathname.split("/")[2]).toLowerCase():"category"==e?decodeURI(window.location.pathname.split("/")[2]).toLowerCase():void 0}function o(){let e=document.querySelectorAll(".lazyload"),t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(!e.isIntersecting)return;let r=e.target,i=r.getAttribute("data-src");r.src=i,t.unobserve(r)})});e.forEach(e=>{t.observe(e)})}let a=0;window.addEventListener("scroll",()=>{0==a&&(o(),a++)});class d{constructor(e,t,r){this.url_type=l(),this.keywords=s(this.url_type),this.cbox=document.querySelector(e),this.data_id=this.cbox.getAttribute("data-id"),this._print_where=document.querySelector(t),this.loader=document.querySelector(r)}Observe_Checker(){let e=new IntersectionObserver((t,r)=>{t.forEach(t=>{t.isIntersecting&&(this.loader.style.display="block",this.id_checker().then(e=>{window.innerWidth>=930?e+=10:window.innerWidth<930&&window.innerWidth>=400&&(e+=5),this.loading(e).then(e=>{!1==e?(this.loader.style.display="none",this._print_where.insertAdjacentHTML("beforeend",'<strong style="text-align : center; display:inline-block;margin : 10px auto;">End<br>More Coming Soon<br><a href="/category/car" style="border:none;outline:none;text-decoration:none;">Try This</a></strong>')):setTimeout(()=>{this.loader.style.display="none",this._print_where.insertAdjacentHTML("beforeend",e),o(),this.Observe_Checker()},2e3)}).catch(e=>{console.log(e)})}).catch(e=>{console.error(e)}),e.unobserve(t.target))})});e.observe(this.cbox)}id_checker(){return new Promise((e,t)=>{let r="";"ir-1"==this.data_id?e(r=parseInt((r=document.querySelectorAll(".ir-1-tb > .img-anchor"))[r.length-1].getAttribute("data-id"))):"ir-2"==this.data_id?e(r=parseInt((r=document.querySelectorAll(".ir-2-tb > .img-anchor"))[r.length-1].getAttribute("data-id"))):"ir-3"==this.data_id?e(r=parseInt((r=document.querySelectorAll(".ir-3-tb > .img-anchor"))[r.length-1].getAttribute("data-id"))):t("Error : Something went wrong")})}loading(e){let t="";return t=null==this.keywords?"/api/send?id="+e+"&type="+this.url_type:"/api/send?id="+e+"&type="+this.url_type+"&keywords="+this.keywords,new Promise((e,r)=>{var i=new XMLHttpRequest;i.onreadystatechange=function(){4==this.readyState&&(200==this.status?e(this.responseText):r(this.statusText))},i.open("GET",t,!0),i.send()})}}new d("div.hidden-end-checker-01",".ir-1-tb",".ir-1-tb-loader").Observe_Checker();let c,u;window.innerWidth>=400&&(c=new d("div.hidden-end-checker-02",".ir-2-tb",".ir-2-tb-loader")).Observe_Checker(),window.innerWidth>=930&&(u=new d("div.hidden-end-checker-03",".ir-3-tb",".ir-3-tb-loader")).Observe_Checker()});